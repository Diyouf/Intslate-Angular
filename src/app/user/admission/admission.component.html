<app-nav-bar></app-nav-bar>

<div class="w-full h-max bg-gray-100 pt-24">

    <div class="max-w-4xl mx-auto font-mono  bg-white p-6  rounded-md shadow-md">
        <div class="text-center mb-10">
            <h2 class="mb-3">Admission Form</h2>
            <hr>
        </div>

        <form class="space-y-6" [formGroup]="data" (ngSubmit)="onSubmit()">
            <div class="flex flex-wrap -mx-3 mb-6">
                <div class="w-full md:w-1/2 px-3 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-first-name">
                        First Name
                    </label>
                    <input  appNoLeadingSpace  formControlName="firstName" [class.border-red-500]="f.firstName.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-3 px-4  leading-tight focus:outline-none focus:bg-white"
                        id="grid-first-name" type="text" placeholder="Jane">
                    <div *ngIf="data.controls['firstName'].errors">
                        <p class="text-xs italic text-red-500"
                            *ngIf="submit&&data.controls.firstName.hasError('required')">First name is required..</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-last-name">
                        Last Name
                    </label>
                    <input  appNoLeadingSpace  formControlName="lastName" [class.border-red-500]="f.lastName.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-last-name" type="text" placeholder="Doe">
                    <div *ngIf="data.controls['lastName'].errors">
                        <p class="text-xs italic text-red-500"
                            *ngIf="submit&&data.controls.lastName.hasError('required')">Last name is required..</p>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-6">
                
                <div class="w-full md:w-1/2 px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        Date of Birth
                    </label>
                    <input  appNoLeadingSpace  (change)="dateofbirth($event)" formControlName="DOB" [class.border-red-500]="f.DOB.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4  leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-password" type="date" placeholder="dd-mm-yyyy">
                        <p class="text-xs italic text-red-500" >{{dateError}}</p>
                    <div *ngIf="data.controls['DOB'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.DOB.hasError('required')">
                            Date of Birth is required..</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        age
                    </label>
                    <input formControlName="age" [class.border-red-500]="f.age.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4  leading-tight focus:outline-none  focus:border-gray-500 cursor-not-allowed"
                        id="grid-password" type="text" placeholder="" [ngModel]="age" readonly>
                        <p class="text-xs italic text-red-500" >{{ageError}}</p>
                    <div *ngIf="data.controls['age'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.age.hasError('required')">
                            Age is required..</p>
                        <p class="text-xs italic text-red-500" *ngIf="data.controls.age.hasError('pattern')">Enter
                            numbers only..</p>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-6">
                <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        Gender
                    </label>
                    <div class="relative">
                        <select formControlName="gender" [class.border-red-500]="f.gender.invalid&&submit"
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4  leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                            <option>Choose gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                        <div *ngIf="data.controls['gender'].errors">
                            <p class="text-xs italic text-red-500"
                                *ngIf="submit&&data.controls.gender.hasError('required')">Gender is required..</p>
                        </div>
                        <div
                            class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
                            </svg>
                        </div>
                    </div>

                </div>
                <div class="w-full md:w-1/2 px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        Class
                    </label>
                    <div class="relative">
                        <select formControlName="class" [class.border-red-500]="f.class.invalid&&submit"
                            class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                            <option>Choose class</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                        <div *ngIf="data.controls['class'].errors">
                            <p class="text-xs italic text-red-500"
                                *ngIf="submit&&data.controls.class.hasError('required')">Class is required..</p>
                        </div>
                        <div
                            class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-6">
                <div class="w-full px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="user_avatar">Upload
                        Image of Student </label>
                    <input  appNoLeadingSpace  formControlName="image" (change)="onFileChange($event)"
                        class="w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded  focus:outline-none focus:bg-white focus:border-gray-500"
                        id="file_input" type="file">
                    <div *ngIf="data.controls['image'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.image.hasError('required')">
                            Image is required..</p>
                    </div>
                </div>
            </div>
            <p class="text-sm text-gray-500 italic">Guardian</p>
            <hr>
            <div class="flex flex-wrap -mx-3 mb-6">
                <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        Name
                    </label>
                    <input  appNoLeadingSpace  formControlName="Guardname" [class.border-red-500]="f.Guardname.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4  leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-password" type="text" placeholder="Doe">
                    <div *ngIf="data.controls['Guardname'].errors">
                        <p class="text-xs italic text-red-500"
                            *ngIf="submit&&data.controls.Guardname.hasError('required')">Guardian name is required..</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        Relation
                    </label>
                    <input  appNoLeadingSpace  formControlName="relation" [class.border-red-500]="f.relation.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4  leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-password" type="type" placeholder="Father">
                    <div *ngIf="data.controls['relation'].errors">
                        <p class="text-xs italic text-red-500"
                            *ngIf="submit&&data.controls.relation.hasError('required')">Relation is required..</p>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-6">
                <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        Email
                    </label>
                    <input  appNoLeadingSpace  formControlName="email" [class.border-red-500]="f.email.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4  leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-password" type="email" placeholder="123@gmail.com">
                    <div *ngIf="data.controls['email'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.email.hasError('required')">
                            Email is required..</p>
                        <p class="text-xs italic text-red-500" *ngIf="data.controls.email.hasError('email')">Enter a
                            valid email..</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                        for="grid-password">
                        Phone
                    </label>
                    <input  appNoLeadingSpace  formControlName="phone" [class.border-red-500]="f.phone.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4  leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-password" type="text" placeholder="9999999999">
                    <div *ngIf="data.controls['phone'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.phone.hasError('required')">
                            Phone is required..</p>
                        <p class="text-xs italic text-red-500" *ngIf="data.controls.phone.hasError('pattern')">Enter
                            valid phone number..</p>
                    </div>
                </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-2">
                <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-city">
                        City
                    </label>
                    <input  appNoLeadingSpace  formControlName="city" [class.border-red-500]="f.city.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-city" type="text" placeholder="Tirur">
                    <div *ngIf="data.controls['city'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.city.hasError('required')">
                            City is required..</p>
                    </div>
                </div>
                <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-state">
                        State
                    </label>
                    <input  appNoLeadingSpace  formControlName="state" [class.border-red-500]="f.state.invalid&&submit"
                        class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-state" placeholder="kerala">
                    <div *ngIf="data.controls['state'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.state.hasError('required')">
                            State is required..</p>
                    </div>
                </div>
                <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-zip">
                        Zip
                    </label>
                    <input  appNoLeadingSpace  formControlName="zip" [class.border-red-500]="f.zip.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-zip" type="text" placeholder="676102">
                    <div *ngIf="data.controls['zip'].errors">
                        <p class="text-xs italic text-red-500" *ngIf="submit&&data.controls.zip.hasError('required')">
                            Zip is required..</p>
                        <p class="text-xs italic text-red-500" *ngIf="data.controls.zip.hasError('pattern')">Enter a
                            valid zip..</p>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-2">
                <div class="w-full px-3">
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-zip">
                        Address
                    </label>
                    <textarea formControlName="address" [class.border-red-500]="f.address.invalid&&submit"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="grid-zip" type="text" placeholder="sn-street, New york, USA"></textarea>
                    <div *ngIf="data.controls['address'].errors">
                        <p class="text-xs italic text-red-500"
                            *ngIf="submit&&data.controls.address.hasError('required')">Address is required..</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="flex flex-wrap -mx-3 mb-2">
                <div class="w-full px-3">
                    <button type="submit" class="bg-blue-500 rounded text-center text-white w-full h-10">
                        Send Request
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>